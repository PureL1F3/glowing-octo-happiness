<div class="panel panel-success">
    <div class="panel-heading">
        <h3 class="panel-title">
            Search Parameters
            <span class="glyphicon glyphicon-plus pull-right" ng-hide="SearchParamsExpanded" ng-click="ToggleSearchParamsExpanded()"></span>
            <span class="glyphicon glyphicon-minus pull-right" ng-show="SearchParamsExpanded" ng-click="ToggleSearchParamsExpanded()"></span>
        </h3>
    </div>
    <div class="panel-body" ng-show="SearchParamsExpanded">
        <form novalidate >
            <div class="form-group" ng-class="{ 'has-error' : SearchErrors.location }">
                <label>Postal Code</label>
                <button ng-disabled="LoadingLocationMessage" ng-show="LocationAvailable" ng-click="OnGetLocation()" type="button" class="btn btn-info btn-sm pull-right">Use my location</button>
                <input type="text" maxlength="10" placeholder="" class="form-control" ng-model="SearchParams.location.name" />
                <p ng-show="LoadingLocationMessage" class="help-block">{{LoadingLocationMessage}}</p>
                <p ng-show="SearchErrors.location" class="help-block">{{SearchErrors.location}}</p>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : SearchErrors.availability }">
                <label>Availability</label>
                <p ng-show="SearchErrors.availability" class="help-block">{{SearchErrors.availability}}</p>
                <table class="table table-bordered table-condensed table-striped text-center">
                    <tr>
                        <th></th>
                        <th class="text-center" ng-repeat="day in StaticAPI.AvailabilityDays">{{day}}</th>
                    </tr>
                    <tr ng-repeat="period in StaticAPI.AvailabilityCategories">
                        <td>{{period}}</td>
                        <td ng-repeat="day in StaticAPI.AvailabilityDays">
                            <input type="checkbox" ng-model="SearchParams.availability[$index][$parent.$index]" />
                        </td>
                    </tr>
                </table>
            </div>
            <div class="form-group" ng-show="false">
                <label>Keywords</label>
                <input type="text" class="form-control" ng-model="SearchParams.keywords" />
            </div>
            <div class="alert alert-danger text-center" role="alert" ng-show="SearchErrors">
                Sorry your search is missing something. Please check and retry.
            </div>
            <div class="text-center">
                <button type="button" class="btn btn-success" ng-click="OnSearch()" ng-disabled="LoadingLocationMessage" ng-hide="Loading">Find Jobs</button>
                <img src="icons/loading.gif" ng-show="Loading" />
            </div>
        </form>
    </div>
</div>
<div class="panel panel-danger" ng-show="CurrentSearchParams && NoResults()">
    <div class="panel-heading">
        <h3 class="panel-title">
        No results
        </h3>
    </div>
    <div class="panel-body">
        Sorry there were no job matches.
    </div>
</div>
<div class="panel panel-success" ng-hide="NoResults()">
    <div class="panel-heading">
        <h3 class="panel-title">
        Available Jobs <span class="pull-right"><small style="color: #bdc3c7;">{{SearchResults.start}} to {{SearchResults.end}} of {{SearchResults.total}}</small></span>
        </h3>
    </div>
    <div class="list-group">
        <a href="#/job?i={{result.id}}&a={{SHUtility.ConvertAvailabilityToString(CurrentSearchParams.availability)}}&s=search" class="list-group-item" ng-repeat="result in SearchResults.results">
            <h4 style="margin-top: 5px; margin-bottom: 1px; color: #03AB52; font-weight: normal;"><u>{{result.title}}</u>
                <span class="label label-danger pull-right" ng-show="result.applied">Applied</span>
                <span class="label label-warning pull-right" ng-show="!result.applied && result.viewed">Viewed</span>
            </h4>
            <h5 style="margin-top: 5px; margin-bottom: 1px;">{{result.employer}}</h5>
            <p>
                <small class="sh-lighttext">
                    Posted {{SHUtility.GetDaysAgoString(result.posted_days)}}
                </small>
                <br>
                <!-- show job match stars -->
                <img src="icons/rogue_star.png" style="width: 16px; height: 16px;" 
                    ng-repeat="t in SHUtility.GetSolidStarCount(result.hours_match, result.hours_total) track by $index"/><img ng-src="icons/rogue_star_empty.png" style="width: 16px; height: 16px;" 
                    ng-repeat="u in SHUtility.GetEmptyStarCount(result.hours_match, result.hours_total) track by $index "/>
                <small>Job Hours Match - <span ng-hide="result.hours_match && result.hours_total">N/A</span>
                                         <span ng-show="result.hours_match && result.hours_total">({{result.hours_match}} / {{result.hours_total}})</span>
                </small>
                <br>
                <!-- show job availability coverage stars -->
                <img src="icons/rogue_star.png" style="width: 16px; height: 16px;" 
                    ng-repeat="t in SHUtility.GetSolidStarCount(result.hours_match, result.hours_available) track by $index"/><img ng-src="icons/rogue_star_empty.png" style="width: 16px; height: 16px;" 
                    ng-repeat="u in SHUtility.GetEmptyStarCount(result.hours_match, result.hours_available) track by $index "/>
                <small>Availability Coverage - <span ng-hide="result.hours_match && result.hours_available">N/A</span>
                                         <span ng-show="result.hours_match && result.hours_available">({{result.hours_match}} / {{result.hours_available}})</span>
            </p>
        </a>
    </div>
    <div ng-show="SearchResults.start > 1 || SearchResults.end < SearchResults.total">
            <br>
            <a ng-click="OnPrevPage()" ng-show="SearchResults.start > 1">&nbsp;&nbsp;&nbsp;&larr; Prev</a>
            <a ng-click="OnNextPage()" ng-show="SearchResults.end < SearchResults.total" class="pull-right">Next &rarr;&nbsp;&nbsp;&nbsp;</a>
    <div>
</div>